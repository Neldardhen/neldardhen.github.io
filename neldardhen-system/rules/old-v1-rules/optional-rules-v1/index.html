<!doctype html>
<html lang="en">
<head>
<title>Optional Rules (v1)</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<script async type="module">import mermaid from"https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs"</script>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/prism.min.js" integrity="sha512-hpZ5pDCF2bRCweL5WoA0/N1elet1KYL5mx3LP555Eg/0ZguaHawxNvEjF6O3rufAChs16HVNhEc6blF/rZoowQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/plugins/autoloader/prism-autoloader.min.js" integrity="sha512-sv0slik/5O0JIPdLBCR2A3XDg/1U3WuDEheZfI/DI5n8Yqc3h5kjrnr46FGBNiUAJF7rE4LHKwQ/SoSLRKAxEA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script async src="https://cdn.jsdelivr.net/npm/lucide@0.115.0/dist/umd/lucide.min.js"></script>
<script>window.addEventListener("load",(()=>{document.querySelectorAll(".callout").forEach((e=>{const t=getComputedStyle(e).getPropertyValue("--callout-icon"),l=t&&t.trim().replace(/^lucide-/,"");if(l){const t=e.querySelector(".callout-title");if(t){const e=document.createElement("div"),c=document.createElement("i");e.appendChild(c),c.setAttribute("icon-name",l),e.setAttribute("class","callout-icon"),t.insertBefore(e,t.firstChild)}}})),lucide.createIcons(),Array.from(document.querySelectorAll(".callout.is-collapsible")).forEach((e=>{e.querySelector(".callout-title").addEventListener("click",(t=>{e.classList.contains("is-collapsed")?e.classList.remove("is-collapsed"):e.classList.add("is-collapsed")}))}))}))</script>
<script async src="https://fastly.jsdelivr.net/npm/force-graph@1.43.0/dist/force-graph.min.js"></script>
<script async src="https://fastly.jsdelivr.net/npm/@alpinejs/persist@3.11.1/dist/cdn.min.js"></script>
<script src="https://fastly.jsdelivr.net/npm/alpinejs@3.11.1/dist/cdn.min.js" async></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism-okaidia.min.css" integrity="sha512-mIs9kKbaw6JZFfSuo+MovjU+Ntggfoj8RwAmJbVXQ5mkAX5LlgETQEweFPI18humSPHymTb5iikEOKWF7I8ncQ==" crossorigin="anonymous" referrerpolicy="no-referrer" async>
<script src="https://fastly.jsdelivr.net/npm/whatwg-fetch@3.6.2/dist/fetch.umd.min.js" crossorigin="anonymous" referrerpolicy="no-referrer" async></script>
<link href="/styles/digital-garden-base.css" rel="stylesheet">
<link href="/styles/obsidian-base.css" rel="stylesheet">
<link href="/styles/_theme.d92311c2.css" rel="stylesheet">
<link href="/styles/custom-style.css" rel="stylesheet">
<link rel="icon" href="/favicon.ico" sizes="any">
<link rel="icon" href="/favicon.svg" type="image/svg+xml">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="manifest" href="/manifest.webmanifest">
<style></style>
</head>
<body class="theme-dark markdown-preview-view markdown-rendered markdown-preview-section">
<nav class="navbar">
<div class="navbar-inner">
<a href="/" style="text-decoration:none">
<h1 style="margin:15px!important">Neldar</h1>
</a>
</div>
<div class="search-button align-icon" onclick="toggleSearch()">
<span class="search-icon">
<i icon-name="search"></i>
</span>
<span class="search-text">
<span>Search</span>
<span style="font-size:.6rem;padding:2px 2px 0 6px;text-align:center;transform:translateY(4px)" class="search-keys">
CTRL + K
</span>
</span>
</div>
</nav>
<div class="search-container" id="globalsearch" onclick="toggleSearch()">
<div class="search-box">
<input type="search" id="term" placeholder="Start typing...">
<div id="search-results"></div>
<footer class="search-box-footer">
<div class="navigation-hint">
<span>Enter to select</span>
</div>
<div class="navigation-hint align-icon">
<i icon-name="arrow-up" aria-hidden="true"></i>
<i icon-name="arrow-down" aria-hidden="true"></i>
<span>to navigate</span>
</div>
<div class="navigation-hint">
<span>ESC to close</span>
</div>
</footer>
</div>
</div>
<script src="https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js"></script>
<script>document.addEventListener("DOMContentLoaded",init,!1),document.addEventListener("DOMContentLoaded",setCorrectShortcut,!1),window.toggleSearch=function(){document.getElementById("globalsearch").classList.contains("active")?document.getElementById("globalsearch").classList.remove("active"):(document.getElementById("globalsearch").classList.add("active"),document.getElementById("term").focus())},window.toggleTagSearch=function(e){console.log(e.textContent);const t=e.textContent;t&&(window.document.getElementById("term").value=t.trim(),window.toggleSearch(),window.search())};const loadingSvg='\n    <svg width="100" height="100" viewBox="0 0 45 45" xmlns="http://www.w3.org/2000/svg" stroke="#fff">\n      <g fill="none" fill-rule="evenodd" transform="translate(1 1)" stroke-width="2">\n          <circle cx="22" cy="22" r="6" stroke-opacity="0">\n              <animate attributeName="r"\n                   begin="1.5s" dur="3s"\n                   values="6;22"\n                   calcMode="linear"\n                   repeatCount="indefinite" />\n              <animate attributeName="stroke-opacity"\n                   begin="1.5s" dur="3s"\n                   values="1;0" calcMode="linear"\n                   repeatCount="indefinite" />\n              <animate attributeName="stroke-width"\n                   begin="1.5s" dur="3s"\n                   values="2;0" calcMode="linear"\n                   repeatCount="indefinite" />\n          </circle>\n          <circle cx="22" cy="22" r="6" stroke-opacity="0">\n              <animate attributeName="r"\n                   begin="3s" dur="3s"\n                   values="6;22"\n                   calcMode="linear"\n                   repeatCount="indefinite" />\n              <animate attributeName="stroke-opacity"\n                   begin="3s" dur="3s"\n                   values="1;0" calcMode="linear"\n                   repeatCount="indefinite" />\n              <animate attributeName="stroke-width"\n                   begin="3s" dur="3s"\n                   values="2;0" calcMode="linear"\n                   repeatCount="indefinite" />\n          </circle>\n          <circle cx="22" cy="22" r="8">\n              <animate attributeName="r"\n                   begin="0s" dur="1.5s"\n                   values="6;1;2;3;4;5;6"\n                   calcMode="linear"\n                   repeatCount="indefinite" />\n          </circle>\n      </g>\n  </svg>';function debounce(e,t,n){var a;return function(){var r=this,i=arguments,c=n&&!a;clearTimeout(a),a=setTimeout((function(){a=null,n||e.apply(r,i)}),t),c&&e.apply(r,i)}}function setCorrectShortcut(){navigator.platform.toUpperCase().indexOf("MAC")>=0&&document.querySelectorAll(".search-keys").forEach((e=>e.innerHTML="âŒ˜ + K"))}function createIndex(e){const t=e=>e.toLowerCase().split(/([^a-z]|[^\x00-\x7F])/),n=new FlexSearch.Document({cache:!0,charset:"latin:extra",optimize:!0,index:[{field:"content",tokenize:"reverse",encode:t},{field:"title",tokenize:"forward",encode:t},{field:"tags",tokenize:"forward",encode:t}]});return e.forEach(((e,t)=>{n.add({id:t,title:e.title,content:e.content,tags:e.tags})})),n}async function init(){let e=!0;if(localStorage.getItem("searchIndex")){let{date:t,docs:n}=JSON.parse(localStorage.getItem("searchIndex"));if("2025-08-06T19:13:41.081Z"===t){e=!1;let t=createIndex(n);window.docs=n,window.index=t}}if(e){let e=await(await fetch("/searchIndex.json?v=2025-08-06T19:13:41.081Z")).json(),t=createIndex(e);localStorage.setItem("searchIndex",JSON.stringify({date:"2025-08-06T19:13:41.081Z",docs:e})),window.docs=e,window.index=t}document.addEventListener("keydown",(e=>{if((e.ctrlKey||e.metaKey)&&"k"===e.key&&(e.preventDefault(),toggleSearch()),"Escape"===e.key&&document.getElementById("globalsearch").classList.remove("active"),document.getElementById("globalsearch").classList.contains("active")){if("ArrowDown"===e.key){e.preventDefault();let t=document.querySelector(".searchresult.active");t?(t.classList.remove("active"),t.nextElementSibling?t.nextElementSibling.classList.add("active"):document.querySelector(".searchresult").classList.add("active")):document.querySelector(".searchresult").classList.add("active");let n=document.querySelector(".searchresult.active");n&&n.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}if("ArrowUp"===e.key){e.preventDefault();let t=document.querySelector(".searchresult.active");t?(t.classList.remove("active"),t.previousElementSibling?t.previousElementSibling.classList.add("active"):document.querySelectorAll(".searchresult").forEach((e=>{e.nextElementSibling||e.classList.add("active")}))):document.querySelectorAll(".searchresult").forEach((e=>{e.nextElementSibling&&e.classList.add("active")}));let n=document.querySelector(".searchresult.active");n&&n.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}if("Enter"===e.key){e.preventDefault();let t=document.querySelector(".searchresult.active");t&&(window.location.href=t.querySelector("a").href)}}}));const t=debounce(search,200,!1);field=document.querySelector("#term"),field.addEventListener("keydown",(e=>{"ArrowDown"!==e.key&&"ArrowUp"!==e.key&&t()})),resultsDiv=document.querySelector("#search-results");const n=new URL(location.href).searchParams;n.get("q")&&(field.setAttribute("value",n.get("q")),toggleSearch(),search())}async function search(){let e=field.value.trim();if(!e)return;if(e==lastSearch)return;console.log(`search for ${e}`),window.lastSearch=e,resultsDiv.innerHTML=loadingSvg;let t=offlineSearch(e),n="";if(!t.length){let t=document.createElement("p");return t.innerText=`No results for "${e}"`,resultsDiv.innerHTML="",void resultsDiv.appendChild(t)}n+='<div style="max-width:100%;">',t.forEach((e=>{e.tags&&e.tags.length>0?n+=`<div class="searchresult">\n                    <a class="search-link" href="${e.url}">${e.title}</a>\n                    <div onclick="window.location='${e.url}'">\n                        <div class="header-meta">\n                            <div class="header-tags">\n                                ${e.tags.map((e=>'<a class="tag" href="JavaScript:Void(0);">#'+e+"</a>")).join("")}\n                            </div>\n                        </div>\n                        ${e.content}\n                    </div>\n                </div>`:n+=`<div class="searchresult">\n                    <a class="search-link" href="${e.url}">${e.title}</a>\n                    <div onclick="window.location='${e.url}'">\n                        ${e.content}\n                    </div>\n                </div>`})),n+="</div>",resultsDiv.innerHTML=n}function truncate(e,t){return(e=e.replaceAll(/<[^>]*>/g,"")).length<t?e:e.substring(0,t-3)+"..."}function offlineSearch(e){let t=window.docs,n="#"===e[0]&&e.length>1?index.search(e.substring(1),[{field:"tags"}]):index.search(e,[{field:"title",limit:5},{field:"content",weight:10}]);const a=e=>{const t=n.filter((t=>t.field===e));return 0===t.length?[]:[...t[0].result]};return[...new Set([...a("title"),...a("content"),...a("tags")])].map((e=>{let n=t[e];return n.content=truncate(n.content,400),n.tags=n.tags.filter((e=>"gardenEntry"!=e&&"note"!=e)),n}))}window.lastSearch=""</script>
<main class="content cm-s-obsidian">
<header>
<div class="header-meta">
</div>
</header>
<h1 id="optional-rules-v1" tabindex="-1">Optional Rules (v1)</h1>
<p>Optional Rules for <a class="internal-link" target="" data-note-icon="" href="/neldardhen-system/rules/old-v1-rules/the-neldardhen-system-v1/">The Neldardhen System (v1)</a>, up to date version of the system can be found here : <a class="internal-link" target="" data-note-icon="" href="/neldardhen-system/neldar-system/">Neldar System</a>.</p>
<h2 id="this-is-an-outdated-version-see-neldardhen-system-rules-optional-rules-optional-rules" tabindex="-1">THIS IS AN OUTDATED VERSION see <a class="internal-link" target="" data-note-icon="" href="/neldardhen-system/rules/optional-rules/">Optional Rules</a></h2>
<h2 id="pushing-through" tabindex="-1">Pushing Through</h2>
<p>This optional rule allows a creature to spend double of a resource to compensate for an other one.</p>
<blockquote>
<p>Example</p>
<p>Arinya has 0 resilience but still wants to try to convince the innkeeper to let her eat at a reduced price. A Persuasion task would usually cost 2 resilience, but that would increase her stress level. She however still has almost all of her focus left today.</p>
<p>So she decide to try the Persuasion task while pushing through, paying 4 focus instead of the 2 resilience.</p>
</blockquote>
<h2 id="addictions" tabindex="-1">Addictions</h2>
<p>Some Resourcing Activities might have a risk of <a class="tag" onclick="toggleTagSearch(this)" data-content="#Addiction">#Addiction</a>. The Addiction risk must be defined at the creation of the Activity by the player and the GM.</p>
<p>If a character indulge in such an activity at a frequency equal or above the <em>risk frequency</em> of the activity, they must roll an addiction check.</p>
<p>The player roll <strong>1d100</strong> and if the result is higher than the <em>addiction threshold</em> of the activity - the number of days they have been partaking in the activity, they fail the check and become addicted.</p>
<blockquote>
<p>success if <strong>1d100</strong> &lt; =addiction threshold - number of day</p>
</blockquote>
<p>When a character is addicted to an activity, this activity stops being a <em>Resourcing Activity</em> for them (they gain no benefice, but still have to pay the cost) and it becomes an additional <em>Needs</em>. (The player and the GM determines together which part of the <em>Being</em> the activity affects if unmet.)</p>
<p>As long as the addiction counts as a <em>Need</em> for a character, that character is considered Addicted and all the Addicted supplementary effects of the activity applies to them.</p>
<h3 id="curing-an-addiction" tabindex="-1">Curing an Addiction</h3>
<p>Mainly, an addiction is cured by refraining from indulging it for a sufficient amount of time. When a <em>Needs</em> originating from an addiction is not met two days in a row the character is considered in Withdrawal, if the character then manage to not partake in the activity for a period of time equal or greater than the <em>withdrawal period</em> they are considered in remission and the addiction is removed from their <em>Needs</em>.</p>
<p>During the withdrawal period the character must make relapse checks under certain circumstances and with more a less of a malus depending on the specific circumstance. The player rolls <strong>1d100</strong> if the result is higher than the addiction potential minus the number of days they have been in withdrawal then they fail the check and must seek out the fastest way to partake in the addictive activity again.</p>
<blockquote>
<p>1d100 &lt;= addiction threshold + number of day in withdrawal</p>
</blockquote>
<p>The circumstances and their modifiers on a relapse check are as follow :</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><strong>Description</strong></td>
<td><strong>Penalty</strong></td>
</tr>
<tr>
<td>Periodical check</td>
<td>Some activities ask for a periodical relapse check during withdrawal.</td>
<td>0</td>
</tr>
<tr>
<td>Idea check</td>
<td>When something in the environment of the character reminds them of the activity</td>
<td>-10</td>
</tr>
<tr>
<td>Temptation check</td>
<td>When the opportunity to partake in the activity is directly presented to the character.</td>
<td>-30</td>
</tr>
</tbody>
</table></div>
<p>Of course the GM and players are encouraged to find creative alternative ways to cure a character's addiction. They might want to try to get rid of their drinking habit by instead going for a walk with a friend or finding a new hobby. As a GM consider giving bonus on the relapse checks when players come up with alternatives way to manage or heal their character's addiction.</p>
<h2 id="additional-effect-of-damage" tabindex="-1">Additional Effect of Damage</h2>
<p>Every time a creature take damage of a certain type, there is a chance that it will suffer an additional effect. To resist the additional effect, the player must roll a <strong>1d100</strong> and get a result lower or equal to 80 + their resistance - their vulnerability to that damage type.</p>
<blockquote>
<p>[1d100] &lt;= 80 + damage resistance - damage vulnerability</p>
</blockquote>
<div class="table-wrapper"><table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Mind (reduces focus)</strong></td>
<td><strong>Body (reduces endurance)</strong></td>
<td><strong>Spirit (reduces resilience)</strong></td>
</tr>
<tr>
<td>Confusion (Light / Radiant)<br><br><em>Bewildered <br></em></td>
<td>Piercing / Slashing<br><br><em>Bleeding</em></td>
<td>Fear<br><br><em>Afraid</em></td>
</tr>
<tr>
<td>Oblivion (Dark / Necrotic)<br><br><em>Oblivious</em></td>
<td>Bludgeoning / Force<br><br><em>Broken bones <br></em></td>
<td>Charm<br><br><em>Charmed</em></td>
</tr>
<tr>
<td>Psychic<br><br><em>Irrational</em></td>
<td>Fire / Heat / Lightning<br><br><em>Burning <br></em></td>
<td>Despair<br><br><em>Depressed</em></td>
</tr>
<tr>
<td></td>
<td>Cold / Ice<br><br><em>Freezing</em></td>
<td>Anxiety<br><br><em>Panicked</em></td>
</tr>
<tr>
<td></td>
<td>Acid<br><br><em>Corroding</em></td>
<td></td>
</tr>
<tr>
<td>Poison<br><br><em>Poisoned</em></td>
<td>Poison<br><br><em>Poisoned</em></td>
<td>Poison<br><br><em>Poisoned</em></td>
</tr>
</tbody>
</table></div>
<h3 id="conditions" tabindex="-1"><a class="tag" onclick="toggleTagSearch(this)" data-content="#Conditions">#Conditions</a></h3>
<div class="table-wrapper"><table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Effect</strong></td>
<td>**Description <br>**At the start of their turn the target</td>
<td><strong>Ends <br></strong></td>
</tr>
<tr>
<td><a class="tag" onclick="toggleTagSearch(this)" data-content="#Bewildered">#Bewildered</a></td>
<td>Needs to spend <strong>2</strong> focus points or they are too confused to be able to take a decision and don't act on their turn.</td>
<td>Regains at least 1 focus point.</td>
</tr>
<tr>
<td><a class="tag" onclick="toggleTagSearch(this)" data-content="#Bleeding">#Bleeding</a></td>
<td>Looses 1 endurance at the start of their turn. (untyped bleeding damage)</td>
<td>Takes an action to stop the bleeding with some appropriate materials (bandages).</td>
</tr>
<tr>
<td><a class="tag" onclick="toggleTagSearch(this)" data-content="#Afraid">#Afraid</a></td>
<td>Needs to spend 2 resilience points or run away from the source of the fear.</td>
<td>Regains at least 1 point of resilience.</td>
</tr>
<tr>
<td><a class="tag" onclick="toggleTagSearch(this)" data-content="#Oblivious">#Oblivious</a></td>
<td>Needs to spend 1 focus point or forget what they intended to do. If the focus point is not paid, the character does something different than what their initial intentions were. <br>In addition, if the character is sustaining a spell, they need to spend <strong>1</strong> additional focus point.</td>
<td>Regains at least 1 focus point.</td>
</tr>
<tr>
<td><a class="tag" onclick="toggleTagSearch(this)" data-content="#Broken_Bones">#Broken_Bones</a></td>
<td>Any movement speed is halved.</td>
<td>Regains at least 1 point of endurance.</td>
</tr>
<tr>
<td><a class="tag" onclick="toggleTagSearch(this)" data-content="#Charmed">#Charmed</a></td>
<td>Needs to spend 1 resilience when attacking the source of the charm or take any action against them.</td>
<td>When taking any endurance damage from the source of the charm.</td>
</tr>
<tr>
<td><a class="tag" onclick="toggleTagSearch(this)" data-content="#Irrational">#Irrational</a></td>
<td>Rolls <strong>1d4</strong>, different effects apply depending on the result :Â <br><strong>1</strong> : The target can act normally.<br><br>2 : The target must spend <strong>1</strong> focus or do nothing this turn.<br><br>3 : The target must spend <strong>1</strong> focus or take <strong>1d4</strong> resilience damage.<br><br>4 : The target must spend <strong>2</strong> focus or attack the closest creature.</td>
<td>Last until someone else spend a full turn to calm you down. <br>Can only be done if they witnessed you acting irrationaly (ie. Can only be done after you roll something else than a 1 on your irrational die.)</td>
</tr>
<tr>
<td><a class="tag" onclick="toggleTagSearch(this)" data-content="#Burning">#Burning</a></td>
<td>Takes 1d4 fire damage at the start of their turn.</td>
<td>Gets into water / snow or takes an action to extinguish the flames or the effect goes away on its own after 1min.</td>
</tr>
<tr>
<td><a class="tag" onclick="toggleTagSearch(this)" data-content="#Depressed">#Depressed</a></td>
<td>Needs to spend 1 resilience to do any action other than moving.</td>
<td>Regains at least 1 point of resilience.</td>
</tr>
<tr>
<td><a class="tag" onclick="toggleTagSearch(this)" data-content="#Freezing">#Freezing</a></td>
<td>Takes 1d4 cold damage at the start of their turn.</td>
<td>Exposed to warmth or the effect goes away on its own after 1min.</td>
</tr>
<tr>
<td><a class="tag" onclick="toggleTagSearch(this)" data-content="#Panicked">#Panicked</a></td>
<td>Needs to spend 2 resilience points or attack the nearest creature, whether or not they are friend or foe.</td>
<td>Takes a full turn to breath and/or ground yourself. (No attack, spell or parry/dodge action possible)</td>
</tr>
<tr>
<td><a class="tag" onclick="toggleTagSearch(this)" data-content="#Corroding">#Corroding</a></td>
<td>Takes 1d4 acid damage at the start of their turn.</td>
<td>Takes a full turn to wash off the acid or the effect goes away on its own after 1min.</td>
</tr>
<tr>
<td><a class="tag" onclick="toggleTagSearch(this)" data-content="#Poisoned">#Poisoned</a></td>
<td>Any movement speed is halved. <br>Additionaly, takes 1d4 focus/endurance/resilience depending on the poison type.</td>
<td>Drinks/consumes/applies an apropriate antidote. Some poison only last for a certain number of turns.</td>
</tr>
</tbody>
</table></div>
</main>
<aside>
<div class="sidebar">
<div class="sidebar-container">
<div class="toc">
<div class="toc-title-container">
<div class="toc-title">
On this page
</div>
</div>
<div class="toc-container">
<nav class="toc">
<ol>
<li><a href="#optional-rules-v1">Optional Rules (v1)</a>
<ol>
<li><a href="#this-is-an-outdated-version-see-neldardhen-system-rules-optional-rules-optional-rules">THIS IS AN OUTDATED VERSION see [[Neldardhen System/Rules/Optional Rules|Optional Rules]]</a>
</li>
<li><a href="#pushing-through">Pushing Through</a>
</li>
<li><a href="#addictions">Addictions</a>
<ol>
<li><a href="#curing-an-addiction">Curing an Addiction</a>
</li>
</ol>
</li>
<li><a href="#additional-effect-of-damage">Additional Effect of Damage</a>
<ol>
<li><a href="#conditions">#Conditions</a>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</nav>
</div>
</div>
</div>
</div>
</aside>
<style>#tooltip-wrapper{background:var(--background-primary);padding:1em;border-radius:4px;overflow:hidden;position:fixed;width:80%;max-width:400px;height:auto;max-height:300px;font-size:.8em;box-shadow:0 5px 10px rgba(0,0,0,.1);opacity:0;transition:opacity .1s;unicode-bidi:plaintext;overflow-y:scroll;z-index:10}#tooltip-wrapper:after{content:"";position:absolute;z-index:1;bottom:0;left:0;pointer-events:none;width:100%;unicode-bidi:plaintext;height:75px}</style>
<div style="opacity:0;display:none" id="tooltip-wrapper">
<div id="tooltip-content">
</div>
</div>
<iframe style="display:none;height:0;width:0" id="link-preview-iframe" src="">
</iframe>
<script>var opacityTimeout,contentTimeout,transitionDurationMs=100,iframe=document.getElementById("link-preview-iframe"),tooltipWrapper=document.getElementById("tooltip-wrapper"),tooltipContent=document.getElementById("tooltip-content"),linkHistories={};function hideTooltip(){opacityTimeout=setTimeout((function(){tooltipWrapper.style.opacity=0,contentTimeout=setTimeout((function(){tooltipContent.innerHTML="",tooltipWrapper.style.display="none"}),transitionDurationMs+1)}),transitionDurationMs)}function showTooltip(t){var e=t.target,o=e.getClientRects()[e.getClientRects().length-1],i=window.pageYOffset||document.documentElement.scrollTop,n=t.target.getAttribute("href");if(-1===n.indexOf("http")||-1!==n.indexOf(window.location.host)){let t=n.split("#")[0];linkHistories[t]?(tooltipContent.innerHTML=linkHistories[t],tooltipWrapper.style.display="block",setTimeout((function(){if(tooltipWrapper.style.opacity=1,-1!=n.indexOf("#")){let t=n.split("#")[1];const e=tooltipWrapper.querySelector(`[id='${t}']`);e.classList.add("referred"),e.scrollIntoView({behavior:"smooth"},!0)}else tooltipWrapper.scroll(0,0)}),1)):(iframe.src=t,iframe.onload=function(){tooltipContentHtml="",tooltipContentHtml+='<div style="font-weight: bold; unicode-bidi: plaintext;">'+iframe.contentWindow.document.querySelector("h1").innerHTML+"</div>",tooltipContentHtml+=iframe.contentWindow.document.querySelector(".content").innerHTML,tooltipContent.innerHTML=tooltipContentHtml,linkHistories[t]=tooltipContentHtml,tooltipWrapper.style.display="block",tooltipWrapper.scrollTop=0,setTimeout((function(){if(tooltipWrapper.style.opacity=1,-1!=n.indexOf("#")){let t=n.split("#")[1];const e=tooltipWrapper.querySelector(`[id='${t}']`);e.classList.add("referred"),console.log(e),e.scrollIntoView({behavior:"smooth"},!0)}else tooltipWrapper.scroll(0,0)}),1)}),tooltipWrapper.style.left=o.left-tooltipWrapper.offsetWidth/2+o.width/2+"px",window.innerHeight-o.top<tooltipWrapper.offsetHeight?tooltipWrapper.style.top=o.top+i-tooltipWrapper.offsetHeight-10+"px":window.innerHeight-o.top>tooltipWrapper.offsetHeight&&(tooltipWrapper.style.top=o.top+i+35+"px"),o.left+o.width/2<tooltipWrapper.offsetWidth/2?tooltipWrapper.style.left="10px":document.body.clientWidth-o.left-o.width/2<tooltipWrapper.offsetWidth/2&&(tooltipWrapper.style.left=document.body.clientWidth-tooltipWrapper.offsetWidth-20+"px")}}function setupListeners(t){t.addEventListener("mouseleave",(function(t){hideTooltip()})),tooltipWrapper.addEventListener("mouseleave",(function(t){hideTooltip()})),t.addEventListener("mouseenter",(function(t){clearTimeout(opacityTimeout),clearTimeout(contentTimeout),showTooltip(t)})),tooltipWrapper.addEventListener("mouseenter",(function(t){clearTimeout(opacityTimeout),clearTimeout(contentTimeout)}))}window.addEventListener("load",(function(t){document.querySelectorAll(".internal-link").forEach(setupListeners),document.querySelectorAll(".backlink-card a").forEach(setupListeners)}))</script>
<script>window.location.hash&&document.getElementById(window.location.hash.slice(1)).classList.add("referred"),window.addEventListener("hashchange",(e=>{const t=e.oldURL.split("#");t[1]&&document.getElementById(t[1]).classList.remove("referred");const n=e.newURL.split("#");n[1]&&document.getElementById(n[1]).classList.add("referred")}),!1);const url_parts=window.location.href.split("#"),url=url_parts[0],referrence=url_parts[1];document.querySelectorAll(".cm-s-obsidian > *[id]").forEach((function(e){e.ondblclick=function(e){const t=url+"#"+e.target.id;navigator.clipboard.writeText(t)}}))</script>
<script src="https://fastly.jsdelivr.net/npm/luxon@3.2.1/build/global/luxon.min.js"></script>
<script defer="defer">TIMESTAMP_FORMAT="MMM dd, yyyy h:mm a",document.querySelectorAll(".human-date").forEach((function(e){date=e.getAttribute("data-date")||e.innerText,parsed_date=luxon.DateTime.fromISO(date),null!=parsed_date.invalid&&(parsed_date=luxon.DateTime.fromSQL(date)),null!=parsed_date.invalid&&(parsed_date=luxon.DateTime.fromHTML(date)),e.innerHTML=parsed_date.toFormat(TIMESTAMP_FORMAT)}))</script>
<script>lucide.createIcons({attrs:{class:["svg-icon"]}})</script>
</body>
</html>
